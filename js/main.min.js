"use strict";

var nowTime = new Date(),
  date = nowTime.getDate(),
  month = nowTime.getMonth(),
  year = nowTime.getFullYear(),
  daysInMonth = new Date(year, month + 1, 0).getDate(),
  daysInMonthLast = new Date(year, month, 0).getDate(),
  daysWeek0 = new Date("".concat(year, "-").concat(month + 1, "-1")).getDay(),
  daysWeek = 0 == daysWeek0 ? 7 : daysWeek0;
tableDate = document.querySelectorAll(".calendar_day"), calendar = document.querySelector(".calendar"), popup = document.querySelector(".popup"), buttonAdd = document.querySelector(".addEvent_button"), buttonSave = document.querySelector(".popup_button"), popupInput = document.querySelectorAll(".popup_input"), inventDate = document.querySelector(".invent_data"), invent = document.querySelector(".invent"), inventList = document.querySelector(".invent_list"), nameMonth = {
  0: "Января",
  1: "Февраля",
  2: "Марта",
  3: "Апреля",
  4: "Мая",
  5: "Июня",
  6: "Июля",
  7: "Августа",
  8: "Сентября",
  9: "Октября",
  10: "Ноября",
  11: "Декабаря"
}, inventObgect = {};
var calendarFunc = function calendarFunc() {
  !function (t) {
    var e = 1,
      n = daysInMonthLast + 2 - daysWeek,
      o = 1;
    for (var a = 1; a <= t.length; a++) {
      var u = t[a - 1];
      a >= daysWeek && daysInMonth >= e ? u.textContent = e++ : a < daysWeek ? (u.textContent = n++, u.classList.add("othermonth")) : (u.textContent = o++, u.classList.add("othermonth"));
    }
  }(tableDate), buttonAdd.addEventListener("click", function () {
    popup.classList.add("popup_button_active");
  }), buttonSave.addEventListener("click", function () {
    var t = popupInput[0].value,
      e = popupInput[1].value,
      n = popupInput[2].value;
    popupInput[0].value = "", popupInput[1].value = "", popupInput[2].value = "", popup.classList.remove("popup_button_active"), null == inventObgect[t] ? inventObgect[t] = [e, n] : inventObgect[t].push(e, n);
  }), calendar.addEventListener("mousedown", function (e) {
    var n = e.target.textContent;
    e.target.classList.contains("othermonth") || (inventDate.textContent = "".concat(n, " ").concat(nameMonth[month]), t(n));
  });
  var t = function t(_t2) {
      if (console.log(inventObgect.hasOwnProperty(_t2), inventObgect), inventObgect.hasOwnProperty(_t2)) {
        var _n = inventObgect[_t2];
        inventList.innerHTML = "";
        for (var _t = 0; _t < _n.length; _t++) e(_n[_t]);
      } else inventList.innerHTML = "", n();
    },
    e = function e(t) {
      var e = document.createElement("li");
      e.textContent = t, e.classList.add("invent_list_element"), inventList.appendChild(e);
    },
    n = function n() {
      var t = document.createElement("li");
      t.textContent = "на эту дату нет событий", t.classList.add("invent_none"), inventList.appendChild(t);
    };
  t();
};
calendarFunc(), inventDate.textContent = "".concat(date, " ").concat(nameMonth[month]);